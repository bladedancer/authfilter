#!/bin/sh

EXPIREDTOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJQOEM3RnRpd3lFeDFTU21oWU5RVjFzSHBHVUx5M0RFd3h6WklZN1V0dFlZIn0.eyJleHAiOjE2MDQzMzQzNDMsImlhdCI6MTYwNDMzMDc0MywianRpIjoiYjc1MjBiNzktOGQ5MC00NWEyLWJjYjgtNjM4YjliZTY4NjEyIiwiaXNzIjoiaHR0cHM6Ly9zc28tYXV0aGVudGljYXRpb24taHViLmFwcHMuYXp1d2Vwb2MwMTJsLjZkYmE3NDA2ZGNhZjQwNzViMjUyLndlc3RldXJvcGUuYWtzYXBwLmlvL2F1dGgvcmVhbG1zL3BvYyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiI0MjljZWIxMy1iNjcwLTQ5YzgtODU3Yi1iYmQ3NjY1MDM1MWQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJheHdheS1wb2MiLCJzZXNzaW9uX3N0YXRlIjoiOWM2ZTI5OGUtZmQ1MS00Y2RiLWIyYTYtZmY1NjJhNWJkY2VjIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIqIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJST0xFX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwidXNlciJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlNpbXBsZSBVc2VyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlciIsImdpdmVuX25hbWUiOiJTaW1wbGUiLCJmYW1pbHlfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InNpbXBsZS51c2VyQHRlc3QuY29tIn0.HTvLaL9RcEIlp7VWeqQPI83gLwyvqMLZDK0pgpNVdjN3BBWbpKl8tMD2UvRxGp8sExu3WGl_2NxEu7gD0q_JTNNFjRqas8IxIbvIcA_b12BxY-wUYUAMRcMusQk2HNvM7RR6mWAvVLYrD6dzLTtvsdAvxNelPVX7lbsyO7hnhQo2rRwqJW5d9GIJn8wzKIWu19RKarurgWpBMc_poQ3fg0VUNc0wrtialonZ2mXlugqRkHMABPatQ5lzVQe1SbXNBsNs-zJt0dHJmKXdeREHlUZipjOf6Qe_TM3Nin71ioanmq6j9pVeJTeH4wXnq-X29hDwt215cjRjSGU53Z0YKw
TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJQOEM3RnRpd3lFeDFTU21oWU5RVjFzSHBHVUx5M0RFd3h6WklZN1V0dFlZIn0.eyJleHAiOjE2MDQ0MDk5MTIsImlhdCI6MTYwNDQwNjMxMiwianRpIjoiMTkzNmY2NGUtOGQ4My00MTY2LWE5MTMtYTMxYTEyN2YzZDA4IiwiaXNzIjoiaHR0cHM6Ly9zc28tYXV0aGVudGljYXRpb24taHViLmFwcHMuYXp1d2Vwb2MwMTJsLjZkYmE3NDA2ZGNhZjQwNzViMjUyLndlc3RldXJvcGUuYWtzYXBwLmlvL2F1dGgvcmVhbG1zL3BvYyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiI0MjljZWIxMy1iNjcwLTQ5YzgtODU3Yi1iYmQ3NjY1MDM1MWQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJheHdheS1wb2MiLCJzZXNzaW9uX3N0YXRlIjoiOGM3YWVhN2YtMGIwZC00YWJkLWIwZjctY2UwMWJhMjQ3ZTI4IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIqIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJST0xFX1VTRVIiLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwidXNlciJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlNpbXBsZSBVc2VyIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidXNlciIsImdpdmVuX25hbWUiOiJTaW1wbGUiLCJmYW1pbHlfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InNpbXBsZS51c2VyQHRlc3QuY29tIn0.MFHeW49YXpKYDZQnpVngN_wh9qM4ZIaYxazXMawWXWltZoRsUBsR5Iar2cuUPEqXrpg2oygSRVga03lYREgB0Wcfzn5fQ9X512QRIxc1j9bDrA2P5J6SP0u-e7gW2XcuB5v-WGrQ3gvwSHAgbYYmrOntpEfoJG3m3O6oDaXHy5BK6hssdBM0kU4ZpLvrAz5I27bfr1ncfwyVkFrPnQ4uf56G9HZE1VXWdX6JPE_2FiGXo1Cn3ugk1fCZWL8VfQ18YcLDjUOCALeHMAIsT8PJD7Kxk32UyzH6V55zNCO_A7VR9x7mSpcZxnrPC7i2vJxgY3jKSuXKmVxiikRA4OTLKw

echo
echo "NO TOKEN"
echo
kubectl -n default exec -it testcurl -- curl -v http://reviews:9080/reviews/0
echo
echo
echo "INVALID TOKEN"
echo
kubectl -n default exec -it testcurl -- curl -v -H "Authorization: Bearer foo.bar.com" http://reviews:9080/reviews/0
echo
echo
echo "EXPIRED TOKEN"
echo
kubectl -n default exec -it testcurl -- curl -v -H "Authorization: Bearer $EXPIREDTOKEN" http://reviews:9080/reviews/0
echo
echo
echo "VALID TOKEN"
echo
kubectl -n default exec -it testcurl -- curl -v -H "Authorization: Bearer $TOKEN" http://reviews:9080/reviews/0
echo
